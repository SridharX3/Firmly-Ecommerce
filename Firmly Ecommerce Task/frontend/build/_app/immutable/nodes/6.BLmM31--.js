import{a as oe}from"../chunks/B7eymPUq.js";import{s as ne,n as $}from"../chunks/BwTpNNqy.js";import{S as de,i as ie,d as u,a as O,l as s,b as h,c as f,n as v,g as ee,e as I,h as _,s as S,k as V,o as b,t as y,j as ce}from"../chunks/BJj0cEhh.js";import{e as ae}from"../chunks/D6YF6ztN.js";async function ue({fetch:n}){try{return{orders:await oe("https://order-worker.sridhar-89c.workers.dev/orders",{fetch:n})}}catch(e){return{orders:[],error:e.message}}}const xe=Object.freeze(Object.defineProperty({__proto__:null,load:ue},Symbol.toStringTag,{value:"Module"}));function le(n,e,a){const t=n.slice();return t[1]=e[a],t}function he(n){let e,a='<h2 class="text-xl font-bold mb-4">No Orders Found</h2> <p class="text-gray-600">You haven&#39;t placed any orders yet.</p> <a href="/" class="mt-6 inline-block bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition">Start Shopping</a>';return{c(){e=_("div"),e.innerHTML=a,this.h()},l(t){e=f(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1bdtge4"&&(e.innerHTML=a),this.h()},h(){h(e,"class","text-center py-12 border rounded-lg bg-gray-50")},m(t,r){O(t,e,r)},p:$,d(t){t&&u(e)}}}function fe(n){let e,a=ae(n[0].orders),t=[];for(let r=0;r<a.length;r+=1)t[r]=se(le(n,a,r));return{c(){e=_("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=f(r,"DIV",{class:!0});var c=v(e);for(let l=0;l<t.length;l+=1)t[l].l(c);c.forEach(u),this.h()},h(){h(e,"class","space-y-6")},m(r,c){O(r,e,c);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(r,c){if(c&1){a=ae(r[0].orders);let l;for(l=0;l<a.length;l+=1){const o=le(r,a,l);t[l]?t[l].p(o,c):(t[l]=se(o),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=a.length}},d(r){r&&u(e),ce(t,r)}}}function _e(n){let e,a,t,r=n[0].error+"",c,l,o,i="Please ensure you are logged in.";return{c(){e=_("div"),a=_("p"),t=y("Could not load orders: "),c=y(r),l=S(),o=_("p"),o.textContent=i,this.h()},l(d){e=f(d,"DIV",{class:!0});var m=v(e);a=f(m,"P",{});var x=v(a);t=b(x,"Could not load orders: "),c=b(x,r),x.forEach(u),l=I(m),o=f(m,"P",{"data-svelte-h":!0}),ee(o)!=="svelte-1ecvf0q"&&(o.textContent=i),m.forEach(u),this.h()},h(){h(e,"class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6")},m(d,m){O(d,e,m),s(e,a),s(a,t),s(a,c),s(e,l),s(e,o)},p(d,m){m&1&&r!==(r=d[0].error+"")&&V(c,r)},d(d){d&&u(e)}}}function se(n){let e,a,t,r,c,l=n[1].id+"",o,i,d,m,x=new Date(n[1].created_at).toLocaleDateString()+"",j,Y,k,B,D,A=n[1].status+"",H,M,G,E,w,F=new Intl.NumberFormat("en-US",{style:"currency",currency:n[1].currency}).format(n[1].total_amount)+"",N,J,P,L=n[1].ordered_items.length+"",T,K,Q,q;return{c(){e=_("a"),a=_("div"),t=_("div"),r=_("h2"),c=y("Order #"),o=y(l),i=S(),d=_("p"),m=y("Placed on: "),j=y(x),Y=S(),k=_("p"),B=y(`Status:
                `),D=_("span"),H=y(A),G=S(),E=_("div"),w=_("p"),N=y(F),J=S(),P=_("p"),T=y(L),K=y(" items"),Q=S(),this.h()},l(p){e=f(p,"A",{href:!0,class:!0});var g=v(e);a=f(g,"DIV",{class:!0});var U=v(a);t=f(U,"DIV",{});var C=v(t);r=f(C,"H2",{class:!0});var R=v(r);c=b(R,"Order #"),o=b(R,l),R.forEach(u),i=I(C),d=f(C,"P",{class:!0});var W=v(d);m=b(W,"Placed on: "),j=b(W,x),W.forEach(u),Y=I(C),k=f(C,"P",{class:!0});var X=v(k);B=b(X,`Status:
                `),D=f(X,"SPAN",{class:!0});var te=v(D);H=b(te,A),te.forEach(u),X.forEach(u),C.forEach(u),G=I(U),E=f(U,"DIV",{class:!0});var z=v(E);w=f(z,"P",{class:!0});var re=v(w);N=b(re,F),re.forEach(u),J=I(z),P=f(z,"P",{class:!0});var Z=v(P);T=b(Z,L),K=b(Z," items"),Z.forEach(u),z.forEach(u),U.forEach(u),Q=I(g),g.forEach(u),this.h()},h(){h(r,"class","text-xl font-semibold"),h(d,"class","text-sm text-gray-500"),h(D,"class",M="font-medium px-2 py-1 rounded-full "+(n[1].status==="PAID"?"bg-green-100 text-green-700":n[1].status==="FAILED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600")),h(k,"class","mt-2 text-sm"),h(w,"class","text-lg font-bold"),h(P,"class","text-sm text-gray-500"),h(E,"class","text-right"),h(a,"class","flex justify-between items-start"),h(e,"href",q="/order/"+n[1].id),h(e,"class","block border rounded-lg p-6 hover:shadow-lg transition")},m(p,g){O(p,e,g),s(e,a),s(a,t),s(t,r),s(r,c),s(r,o),s(t,i),s(t,d),s(d,m),s(d,j),s(t,Y),s(t,k),s(k,B),s(k,D),s(D,H),s(a,G),s(a,E),s(E,w),s(w,N),s(E,J),s(E,P),s(P,T),s(P,K),s(e,Q)},p(p,g){g&1&&l!==(l=p[1].id+"")&&V(o,l),g&1&&x!==(x=new Date(p[1].created_at).toLocaleDateString()+"")&&V(j,x),g&1&&A!==(A=p[1].status+"")&&V(H,A),g&1&&M!==(M="font-medium px-2 py-1 rounded-full "+(p[1].status==="PAID"?"bg-green-100 text-green-700":p[1].status==="FAILED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"))&&h(D,"class",M),g&1&&F!==(F=new Intl.NumberFormat("en-US",{style:"currency",currency:p[1].currency}).format(p[1].total_amount)+"")&&V(N,F),g&1&&L!==(L=p[1].ordered_items.length+"")&&V(T,L),g&1&&q!==(q="/order/"+p[1].id)&&h(e,"href",q)},d(p){p&&u(e)}}}function pe(n){let e,a,t="My Orders",r;function c(i,d){return i[0].error?_e:i[0].orders&&i[0].orders.length>0?fe:he}let l=c(n),o=l(n);return{c(){e=_("div"),a=_("h1"),a.textContent=t,r=S(),o.c(),this.h()},l(i){e=f(i,"DIV",{class:!0});var d=v(e);a=f(d,"H1",{class:!0,"data-svelte-h":!0}),ee(a)!=="svelte-1eyxdgu"&&(a.textContent=t),r=I(d),o.l(d),d.forEach(u),this.h()},h(){h(a,"class","text-3xl font-bold mb-8"),h(e,"class","max-w-4xl mx-auto py-10 px-4")},m(i,d){O(i,e,d),s(e,a),s(e,r),o.m(e,null)},p(i,[d]){l===(l=c(i))&&o?o.p(i,d):(o.d(1),o=l(i),o&&(o.c(),o.m(e,null)))},i:$,o:$,d(i){i&&u(e),o.d()}}}function ve(n,e,a){let{data:t}=e;return n.$$set=r=>{"data"in r&&a(0,t=r.data)},[t]}class Ee extends de{constructor(e){super(),ie(this,e,ve,pe,ne,{data:0})}}export{Ee as component,xe as universal};

import{s as $e,n as He,c as Xe,o as et,r as Ae,f as Ze}from"../chunks/BwTpNNqy.js";import{S as tt,i as lt,d as u,a as Z,l as e,m as G,b as l,c as a,n as w,g as S,e as v,h as r,s as h,v as Ye,w as we,f as Ge,k as ge,o as Ce,t as xe,p as H,x as Me,q as Re,y as nt}from"../chunks/BJj0cEhh.js";import{l as st,a as at}from"../chunks/DAy7agEw.js";import{w as rt}from"../chunks/DtWGLbtb.js";import{a as De}from"../chunks/B7eymPUq.js";const Be="https://order-worker.sridhar-89c.workers.dev",re=rt({loading:!1,error:null,step:"shipping",summary:null,checkoutId:null});async function it(s){re.update(t=>({...t,loading:!0,error:null}));try{const t=await De(`${Be}/checkout/shipping`,{method:"POST",credentials:"include",body:JSON.stringify({shipping_address:s})});if(t.error)throw new Error(t.error||"Failed to save shipping address");return re.update(n=>({...n,loading:!1,step:"billing_address"})),t}catch(t){throw re.update(n=>({...n,loading:!1,error:t.message})),t}}async function ot(s){re.update(t=>({...t,loading:!0,error:null}));try{const t=await De(`${Be}/checkout/billing`,{method:"POST",credentials:"include",body:JSON.stringify({billing_address:s})});if(t.error)throw new Error(t.error||"Failed to save billing address");return re.update(n=>({...n,loading:!1,step:"delivery"})),t}catch(t){throw re.update(n=>({...n,loading:!1,error:t.message})),t}}async function ut(s){re.update(t=>({...t,loading:!0,error:null}));try{const t=await De(`${Be}/checkout/delivery`,{method:"POST",credentials:"include",body:JSON.stringify({delivery_type:s})});if(t.error)throw new Error(t.error||"Failed to update delivery method");return re.update(n=>({...n,loading:!1,summary:t.summary,step:"payment"})),t}catch(t){throw re.update(n=>({...n,loading:!1,error:t.message})),t}}async function dt(){try{await De(`${Be}/checkout/cancel`,{method:"POST",credentials:"include"}),re.set({loading:!1,error:null,step:"shipping",summary:null,checkoutId:null})}catch(s){console.error("Failed to cancel checkout:",s)}}async function ct(){re.update(s=>({...s,loading:!0,error:null}));try{const s=await De(`${Be}/payments/paypal/create`,{method:"POST",credentials:"include"});if(s.error)throw new Error(s.error||"Payment initialization failed");return re.update(t=>({...t,loading:!1})),s}catch(s){throw re.update(t=>({...t,loading:!1,error:s.message})),s}}function pt(s){let t,n,g,D="Shipping",o,i,L=">",x,I,B="Billing Address",k,_,N=">",E,C,f="Delivery",p,b,j=">",V,q,U="Payment",m,y,A=s[5].error&&Ke(s);function J(c,d){if(c[5].step==="shipping")return bt;if(c[5].step==="billing_address")return ht;if(c[5].step==="delivery")return vt;if(c[5].step==="payment")return _t}let P=J(s),F=P&&P(s);return{c(){A&&A.c(),t=h(),n=r("div"),g=r("span"),g.textContent=D,o=h(),i=r("span"),i.textContent=L,x=h(),I=r("span"),I.textContent=B,k=h(),_=r("span"),_.textContent=N,E=h(),C=r("span"),C.textContent=f,p=h(),b=r("span"),b.textContent=j,V=h(),q=r("span"),q.textContent=U,m=h(),F&&F.c(),y=Ge(),this.h()},l(c){A&&A.l(c),t=v(c),n=a(c,"DIV",{class:!0});var d=w(n);g=a(d,"SPAN",{"data-svelte-h":!0}),S(g)!=="svelte-uqm8cx"&&(g.textContent=D),o=v(d),i=a(d,"SPAN",{class:!0,"data-svelte-h":!0}),S(i)!=="svelte-67ia71"&&(i.textContent=L),x=v(d),I=a(d,"SPAN",{"data-svelte-h":!0}),S(I)!=="svelte-1aajjts"&&(I.textContent=B),k=v(d),_=a(d,"SPAN",{class:!0,"data-svelte-h":!0}),S(_)!=="svelte-67ia71"&&(_.textContent=N),E=v(d),C=a(d,"SPAN",{"data-svelte-h":!0}),S(C)!=="svelte-uh6vm1"&&(C.textContent=f),p=v(d),b=a(d,"SPAN",{class:!0,"data-svelte-h":!0}),S(b)!=="svelte-67ia71"&&(b.textContent=j),V=v(d),q=a(d,"SPAN",{"data-svelte-h":!0}),S(q)!=="svelte-1pv7bd5"&&(q.textContent=U),d.forEach(u),m=v(c),F&&F.l(c),y=Ge(),this.h()},h(){we(g,"text-black",s[5].step==="shipping"),l(i,"class","mx-2"),we(I,"text-black",s[5].step==="billing_address"),l(_,"class","mx-2"),we(C,"text-black",s[5].step==="delivery"),l(b,"class","mx-2"),we(q,"text-black",s[5].step==="payment"),l(n,"class","flex mb-8 text-sm font-medium text-gray-500")},m(c,d){A&&A.m(c,d),Z(c,t,d),Z(c,n,d),e(n,g),e(n,o),e(n,i),e(n,x),e(n,I),e(n,k),e(n,_),e(n,E),e(n,C),e(n,p),e(n,b),e(n,V),e(n,q),Z(c,m,d),F&&F.m(c,d),Z(c,y,d)},p(c,d){c[5].error?A?A.p(c,d):(A=Ke(c),A.c(),A.m(t.parentNode,t)):A&&(A.d(1),A=null),d[0]&32&&we(g,"text-black",c[5].step==="shipping"),d[0]&32&&we(I,"text-black",c[5].step==="billing_address"),d[0]&32&&we(C,"text-black",c[5].step==="delivery"),d[0]&32&&we(q,"text-black",c[5].step==="payment"),P===(P=J(c))&&F?F.p(c,d):(F&&F.d(1),F=P&&P(c),F&&(F.c(),F.m(y.parentNode,y)))},d(c){c&&(u(t),u(n),u(m),u(y)),A&&A.d(c),F&&F.d(c)}}}function ft(s){let t,n='<h2 class="text-xl font-bold mb-4">Please Log In</h2> <p class="text-gray-600 mb-6">You need to be logged in to proceed with checkout.</p> <a href="/login" class="bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition">Log In</a>';return{c(){t=r("div"),t.innerHTML=n,this.h()},l(g){t=a(g,"DIV",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-118a2rl"&&(t.innerHTML=n),this.h()},h(){l(t,"class","text-center py-12 border rounded-lg bg-gray-50")},m(g,D){Z(g,t,D)},p:He,d(g){g&&u(t)}}}function Ke(s){let t,n=s[5].error+"",g;return{c(){t=r("div"),g=xe(n),this.h()},l(D){t=a(D,"DIV",{class:!0});var o=w(t);g=Ce(o,n),o.forEach(u),this.h()},h(){l(t,"class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6")},m(D,o){Z(D,t,o),e(t,g)},p(D,o){o[0]&32&&n!==(n=D[5].error+"")&&ge(g,n)},d(D){D&&u(t)}}}function _t(s){let t,n,g="Order Summary",D,o,i,L,x="Back",I,B,k=s[5].loading?"Initializing...":"Pay with PayPal",_,N,E,C,f=s[5].summary&&Qe(s);return{c(){t=r("div"),n=r("h2"),n.textContent=g,D=h(),f&&f.c(),o=h(),i=r("div"),L=r("button"),L.textContent=x,I=h(),B=r("button"),_=xe(k),this.h()},l(p){t=a(p,"DIV",{class:!0});var b=w(t);n=a(b,"H2",{class:!0,"data-svelte-h":!0}),S(n)!=="svelte-orym6u"&&(n.textContent=g),D=v(b),f&&f.l(b),o=v(b),i=a(b,"DIV",{class:!0});var j=w(i);L=a(j,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),S(L)!=="svelte-5lbgd3"&&(L.textContent=x),I=v(j),B=a(j,"BUTTON",{class:!0});var V=w(B);_=Ce(V,k),V.forEach(u),j.forEach(u),b.forEach(u),this.h()},h(){l(n,"class","text-xl font-semibold"),l(L,"type","button"),l(L,"class","w-1/3 border py-3 rounded hover:bg-gray-50"),B.disabled=N=s[5].loading,l(B,"class","w-2/3 bg-[#FFC439] text-black font-bold py-3 rounded hover:bg-[#F4BB30] disabled:opacity-50"),l(i,"class","flex gap-4"),l(t,"class","space-y-6")},m(p,b){Z(p,t,b),e(t,n),e(t,D),f&&f.m(t,null),e(t,o),e(t,i),e(i,L),e(i,I),e(i,B),e(B,_),E||(C=[G(L,"click",s[35]),G(B,"click",s[10])],E=!0)},p(p,b){p[5].summary?f?f.p(p,b):(f=Qe(p),f.c(),f.m(t,o)):f&&(f.d(1),f=null),b[0]&32&&k!==(k=p[5].loading?"Initializing...":"Pay with PayPal")&&ge(_,k),b[0]&32&&N!==(N=p[5].loading)&&(B.disabled=N)},d(p){p&&u(t),f&&f.d(),E=!1,Ae(C)}}}function vt(s){let t,n,g="Delivery Method",D,o,i,L,x,I='<span>Standard Delivery (5 days)</span> <span class="font-semibold">$50</span>',B,k,_,N,E,C='<span>Speed Delivery (2 days)</span> <span class="font-semibold">$120</span>',f,p,b,j,V,q='<span>Express Delivery (1 day)</span> <span class="font-semibold">$250</span>',U,m,y,A="Back",J,P,F=s[5].loading?"Processing...":"Continue to Payment",c,d,$,ne,ee;return $=nt(s[31][0]),{c(){t=r("form"),n=r("h2"),n.textContent=g,D=h(),o=r("label"),i=r("input"),L=h(),x=r("div"),x.innerHTML=I,B=h(),k=r("label"),_=r("input"),N=h(),E=r("div"),E.innerHTML=C,f=h(),p=r("label"),b=r("input"),j=h(),V=r("div"),V.innerHTML=q,U=h(),m=r("div"),y=r("button"),y.textContent=A,J=h(),P=r("button"),c=xe(F),this.h()},l(X){t=a(X,"FORM",{class:!0});var R=w(t);n=a(R,"H2",{class:!0,"data-svelte-h":!0}),S(n)!=="svelte-r621bp"&&(n.textContent=g),D=v(R),o=a(R,"LABEL",{class:!0});var Y=w(o);i=a(Y,"INPUT",{type:!0,name:!0,class:!0}),L=v(Y),x=a(Y,"DIV",{class:!0,"data-svelte-h":!0}),S(x)!=="svelte-11no6vj"&&(x.innerHTML=I),Y.forEach(u),B=v(R),k=a(R,"LABEL",{class:!0});var W=w(k);_=a(W,"INPUT",{type:!0,name:!0,class:!0}),N=v(W),E=a(W,"DIV",{class:!0,"data-svelte-h":!0}),S(E)!=="svelte-bqojw8"&&(E.innerHTML=C),W.forEach(u),f=v(R),p=a(R,"LABEL",{class:!0});var te=w(p);b=a(te,"INPUT",{type:!0,name:!0,class:!0}),j=v(te),V=a(te,"DIV",{class:!0,"data-svelte-h":!0}),S(V)!=="svelte-1q3l0s3"&&(V.innerHTML=q),te.forEach(u),U=v(R),m=a(R,"DIV",{class:!0});var O=w(m);y=a(O,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),S(y)!=="svelte-nxc1t1"&&(y.textContent=A),J=v(O),P=a(O,"BUTTON",{type:!0,class:!0});var Q=w(P);c=Ce(Q,F),Q.forEach(u),O.forEach(u),R.forEach(u),this.h()},h(){l(n,"class","text-xl font-semibold"),l(i,"type","radio"),l(i,"name","delivery"),i.__value="NORMAL",H(i,i.__value),l(i,"class","h-4 w-4"),l(x,"class","flex-1 flex justify-between"),l(o,"class","flex items-center space-x-3 border p-4 rounded cursor-pointer hover:bg-gray-50"),l(_,"type","radio"),l(_,"name","delivery"),_.__value="SPEED",H(_,_.__value),l(_,"class","h-4 w-4"),l(E,"class","flex-1 flex justify-between"),l(k,"class","flex items-center space-x-3 border p-4 rounded cursor-pointer hover:bg-gray-50"),l(b,"type","radio"),l(b,"name","delivery"),b.__value="EXPRESS",H(b,b.__value),l(b,"class","h-4 w-4"),l(V,"class","flex-1 flex justify-between"),l(p,"class","flex items-center space-x-3 border p-4 rounded cursor-pointer hover:bg-gray-50"),l(y,"type","button"),l(y,"class","w-1/3 border py-3 rounded hover:bg-gray-50"),l(P,"type","submit"),P.disabled=d=s[5].loading,l(P,"class","w-2/3 bg-black text-white py-3 rounded disabled:opacity-50"),l(m,"class","flex gap-4"),l(t,"class","space-y-6"),$.p(i,_,b)},m(X,R){Z(X,t,R),e(t,n),e(t,D),e(t,o),e(o,i),i.checked=i.__value===s[3],e(o,L),e(o,x),e(t,B),e(t,k),e(k,_),_.checked=_.__value===s[3],e(k,N),e(k,E),e(t,f),e(t,p),e(p,b),b.checked=b.__value===s[3],e(p,j),e(p,V),e(t,U),e(t,m),e(m,y),e(m,J),e(m,P),e(P,c),ne||(ee=[G(i,"change",s[30]),G(_,"change",s[32]),G(b,"change",s[33]),G(y,"click",s[34]),G(t,"submit",Re(s[9]))],ne=!0)},p(X,R){R[0]&8&&(i.checked=i.__value===X[3]),R[0]&8&&(_.checked=_.__value===X[3]),R[0]&8&&(b.checked=b.__value===X[3]),R[0]&32&&F!==(F=X[5].loading?"Processing...":"Continue to Payment")&&ge(c,F),R[0]&32&&d!==(d=X[5].loading)&&(P.disabled=d)},d(X){X&&u(t),$.r(),ne=!1,Ae(ee)}}}function ht(s){let t,n,g="Billing Address",D,o,i,L,x,I="Same as shipping address",B,k,_,N,E="Back",C,f,p=s[5].loading?"Saving...":"Continue to Delivery",b,j,V,q,U=!s[2]&&We(s);return{c(){t=r("form"),n=r("h2"),n.textContent=g,D=h(),o=r("label"),i=r("input"),L=h(),x=r("span"),x.textContent=I,B=h(),U&&U.c(),k=h(),_=r("div"),N=r("button"),N.textContent=E,C=h(),f=r("button"),b=xe(p),this.h()},l(m){t=a(m,"FORM",{class:!0});var y=w(t);n=a(y,"H2",{class:!0,"data-svelte-h":!0}),S(n)!=="svelte-1cqbe6j"&&(n.textContent=g),D=v(y),o=a(y,"LABEL",{class:!0});var A=w(o);i=a(A,"INPUT",{type:!0,class:!0}),L=v(A),x=a(A,"SPAN",{"data-svelte-h":!0}),S(x)!=="svelte-w38y2"&&(x.textContent=I),A.forEach(u),B=v(y),U&&U.l(y),k=v(y),_=a(y,"DIV",{class:!0});var J=w(_);N=a(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),S(N)!=="svelte-4dv7sp"&&(N.textContent=E),C=v(J),f=a(J,"BUTTON",{type:!0,class:!0});var P=w(f);b=Ce(P,p),P.forEach(u),J.forEach(u),y.forEach(u),this.h()},h(){l(n,"class","text-xl font-semibold mb-4"),l(i,"type","checkbox"),l(i,"class","h-4 w-4"),l(o,"class","flex items-center space-x-2 mb-4"),l(N,"type","button"),l(N,"class","w-1/3 border py-3 rounded hover:bg-gray-50"),l(f,"type","submit"),f.disabled=j=s[5].loading,l(f,"class","w-2/3 bg-black text-white py-3 rounded disabled:opacity-50"),l(_,"class","flex gap-4"),l(t,"class","space-y-4")},m(m,y){Z(m,t,y),e(t,n),e(t,D),e(t,o),e(o,i),i.checked=s[2],e(o,L),e(o,x),e(t,B),U&&U.m(t,null),e(t,k),e(t,_),e(_,N),e(_,C),e(_,f),e(f,b),V||(q=[G(i,"change",s[20]),G(N,"click",s[29]),G(t,"submit",Re(s[8]))],V=!0)},p(m,y){y[0]&4&&(i.checked=m[2]),m[2]?U&&(U.d(1),U=null):U?U.p(m,y):(U=We(m),U.c(),U.m(t,k)),y[0]&32&&p!==(p=m[5].loading?"Saving...":"Continue to Delivery")&&ge(b,p),y[0]&32&&j!==(j=m[5].loading)&&(f.disabled=j)},d(m){m&&u(t),U&&U.d(),V=!1,Ae(q)}}}function bt(s){let t,n,g="Shipping Address",D,o,i,L="Full Name",x,I,B,k,_,N="Phone Number",E,C,f,p,b,j="Address Line 1",V,q,U,m,y,A="Address Line 2",J,P,F,c,d,$,ne="City",ee,X,R,Y,W,te="State",O,Q,Ne,ie,se,pe,_e="Postal Code",fe,oe,Ie,le,ae,Te="Country",de,ue,ce,Se="United States",T,M,ve=s[5].loading?"Saving...":"Continue to Delivery",he,be,ke,Pe;return{c(){t=r("form"),n=r("h2"),n.textContent=g,D=h(),o=r("div"),i=r("label"),i.textContent=L,x=h(),I=r("input"),B=h(),k=r("div"),_=r("label"),_.textContent=N,E=h(),C=r("input"),f=h(),p=r("div"),b=r("label"),b.textContent=j,V=h(),q=r("input"),U=h(),m=r("div"),y=r("label"),y.textContent=A,J=h(),P=r("input"),F=h(),c=r("div"),d=r("div"),$=r("label"),$.textContent=ne,ee=h(),X=r("input"),R=h(),Y=r("div"),W=r("label"),W.textContent=te,O=h(),Q=r("input"),Ne=h(),ie=r("div"),se=r("div"),pe=r("label"),pe.textContent=_e,fe=h(),oe=r("input"),Ie=h(),le=r("div"),ae=r("label"),ae.textContent=Te,de=h(),ue=r("select"),ce=r("option"),ce.textContent=Se,T=h(),M=r("button"),he=xe(ve),this.h()},l(K){t=a(K,"FORM",{class:!0});var z=w(t);n=a(z,"H2",{class:!0,"data-svelte-h":!0}),S(n)!=="svelte-1g51o2y"&&(n.textContent=g),D=v(z),o=a(z,"DIV",{});var me=w(o);i=a(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(i)!=="svelte-168817l"&&(i.textContent=L),x=v(me),I=a(me,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),me.forEach(u),B=v(z),k=a(z,"DIV",{});var ye=w(k);_=a(ye,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(_)!=="svelte-1uvigez"&&(_.textContent=N),E=v(ye),C=a(ye,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),ye.forEach(u),f=v(z),p=a(z,"DIV",{});var Ee=w(p);b=a(Ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(b)!=="svelte-7lai4t"&&(b.textContent=j),V=v(Ee),q=a(Ee,"INPUT",{id:!0,type:!0,class:!0}),Ee.forEach(u),U=v(z),m=a(z,"DIV",{});var Ve=w(m);y=a(Ve,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(y)!=="svelte-19on9of"&&(y.textContent=A),J=v(Ve),P=a(Ve,"INPUT",{id:!0,type:!0,class:!0}),Ve.forEach(u),F=v(z),c=a(z,"DIV",{class:!0});var Ue=w(c);d=a(Ue,"DIV",{});var Oe=w(d);$=a(Oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S($)!=="svelte-sbhto"&&($.textContent=ne),ee=v(Oe),X=a(Oe,"INPUT",{id:!0,type:!0,class:!0}),Oe.forEach(u),R=v(Ue),Y=a(Ue,"DIV",{});var je=w(Y);W=a(je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(W)!=="svelte-1t8o8sy"&&(W.textContent=te),O=v(je),Q=a(je,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),je.forEach(u),Ue.forEach(u),Ne=v(z),ie=a(z,"DIV",{class:!0});var Le=w(ie);se=a(Le,"DIV",{});var qe=w(se);pe=a(qe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(pe)!=="svelte-ahofrp"&&(pe.textContent=_e),fe=v(qe),oe=a(qe,"INPUT",{id:!0,type:!0,class:!0}),qe.forEach(u),Ie=v(Le),le=a(Le,"DIV",{});var Fe=w(le);ae=a(Fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(ae)!=="svelte-fd4toi"&&(ae.textContent=Te),de=v(Fe),ue=a(Fe,"SELECT",{id:!0,class:!0});var ze=w(ue);ce=a(ze,"OPTION",{"data-svelte-h":!0}),S(ce)!=="svelte-1sfjp7n"&&(ce.textContent=Se),ze.forEach(u),Fe.forEach(u),T=v(Le),M=a(Le,"BUTTON",{type:!0,class:!0});var Je=w(M);he=Ce(Je,ve),Je.forEach(u),Le.forEach(u),z.forEach(u),this.h()},h(){l(n,"class","text-xl font-semibold mb-4"),l(i,"for","full_name"),l(i,"class","block text-sm font-medium mb-1"),l(I,"id","full_name"),l(I,"type","text"),I.required=!0,l(I,"class","w-full border p-2 rounded"),l(I,"placeholder","John Doe"),l(_,"for","phone"),l(_,"class","block text-sm font-medium mb-1"),l(C,"id","phone"),l(C,"type","tel"),C.required=!0,l(C,"class","w-full border p-2 rounded"),l(C,"placeholder","+91 9876543210"),l(b,"for","address_line1"),l(b,"class","block text-sm font-medium mb-1"),l(q,"id","address_line1"),l(q,"type","text"),q.required=!0,l(q,"class","w-full border p-2 rounded"),l(y,"for","address_line2"),l(y,"class","block text-sm font-medium mb-1"),l(P,"id","address_line2"),l(P,"type","text"),l(P,"class","w-full border p-2 rounded"),l($,"for","city"),l($,"class","block text-sm font-medium mb-1"),l(X,"id","city"),l(X,"type","text"),X.required=!0,l(X,"class","w-full border p-2 rounded"),l(W,"for","state"),l(W,"class","block text-sm font-medium mb-1"),l(Q,"id","state"),l(Q,"type","text"),Q.required=!0,l(Q,"class","w-full border p-2 rounded"),l(Q,"placeholder","e.g. TN"),l(c,"class","grid grid-cols-2 gap-4"),l(pe,"for","postal_code"),l(pe,"class","block text-sm font-medium mb-1"),l(oe,"id","postal_code"),l(oe,"type","text"),oe.required=!0,l(oe,"class","w-full border p-2 rounded"),l(ae,"for","country"),l(ae,"class","block text-sm font-medium mb-1"),ce.__value="US",H(ce,ce.__value),l(ue,"id","country"),l(ue,"class","w-full border p-2 rounded"),s[0].country===void 0&&Ze(()=>s[19].call(ue)),l(M,"type","submit"),M.disabled=be=s[5].loading,l(M,"class","w-full bg-black text-white py-3 rounded mt-6 disabled:opacity-50"),l(ie,"class","grid grid-cols-2 gap-4"),l(t,"class","space-y-4")},m(K,z){Z(K,t,z),e(t,n),e(t,D),e(t,o),e(o,i),e(o,x),e(o,I),H(I,s[0].full_name),e(t,B),e(t,k),e(k,_),e(k,E),e(k,C),H(C,s[0].phone),e(t,f),e(t,p),e(p,b),e(p,V),e(p,q),H(q,s[0].address_line1),e(t,U),e(t,m),e(m,y),e(m,J),e(m,P),H(P,s[0].address_line2),e(t,F),e(t,c),e(c,d),e(d,$),e(d,ee),e(d,X),H(X,s[0].city),e(c,R),e(c,Y),e(Y,W),e(Y,O),e(Y,Q),H(Q,s[0].state),e(t,Ne),e(t,ie),e(ie,se),e(se,pe),e(se,fe),e(se,oe),H(oe,s[0].postal_code),e(ie,Ie),e(ie,le),e(le,ae),e(le,de),e(le,ue),e(ue,ce),Me(ue,s[0].country,!0),e(ie,T),e(ie,M),e(M,he),ke||(Pe=[G(I,"input",s[12]),G(C,"input",s[13]),G(q,"input",s[14]),G(P,"input",s[15]),G(X,"input",s[16]),G(Q,"input",s[17]),G(oe,"input",s[18]),G(ue,"change",s[19]),G(t,"submit",Re(s[7]))],ke=!0)},p(K,z){z[0]&1&&I.value!==K[0].full_name&&H(I,K[0].full_name),z[0]&1&&H(C,K[0].phone),z[0]&1&&q.value!==K[0].address_line1&&H(q,K[0].address_line1),z[0]&1&&P.value!==K[0].address_line2&&H(P,K[0].address_line2),z[0]&1&&X.value!==K[0].city&&H(X,K[0].city),z[0]&1&&Q.value!==K[0].state&&H(Q,K[0].state),z[0]&1&&oe.value!==K[0].postal_code&&H(oe,K[0].postal_code),z[0]&1&&Me(ue,K[0].country),z[0]&32&&ve!==(ve=K[5].loading?"Saving...":"Continue to Delivery")&&ge(he,ve),z[0]&32&&be!==(be=K[5].loading)&&(M.disabled=be)},d(K){K&&u(t),ke=!1,Ae(Pe)}}}function Qe(s){let t,n,g,D="Subtotal",o,i=s[6].format(s[5].summary.subtotal)+"",L,x,I,B,k="Shipping",_,N=s[6].format(s[5].summary.shipping)+"",E,C,f,p,b="Tax",j,V=s[6].format(s[5].summary.tax)+"",q,U,m,y,A="Total",J,P=s[6].format(s[5].summary.total)+"",F;return{c(){t=r("div"),n=r("div"),g=r("span"),g.textContent=D,o=r("span"),L=xe(i),x=h(),I=r("div"),B=r("span"),B.textContent=k,_=r("span"),E=xe(N),C=h(),f=r("div"),p=r("span"),p.textContent=b,j=r("span"),q=xe(V),U=h(),m=r("div"),y=r("span"),y.textContent=A,J=r("span"),F=xe(P),this.h()},l(c){t=a(c,"DIV",{class:!0});var d=w(t);n=a(d,"DIV",{class:!0});var $=w(n);g=a($,"SPAN",{"data-svelte-h":!0}),S(g)!=="svelte-3vhy5m"&&(g.textContent=D),o=a($,"SPAN",{});var ne=w(o);L=Ce(ne,i),ne.forEach(u),$.forEach(u),x=v(d),I=a(d,"DIV",{class:!0});var ee=w(I);B=a(ee,"SPAN",{"data-svelte-h":!0}),S(B)!=="svelte-46xjjc"&&(B.textContent=k),_=a(ee,"SPAN",{});var X=w(_);E=Ce(X,N),X.forEach(u),ee.forEach(u),C=v(d),f=a(d,"DIV",{class:!0});var R=w(f);p=a(R,"SPAN",{"data-svelte-h":!0}),S(p)!=="svelte-1kt0mix"&&(p.textContent=b),j=a(R,"SPAN",{});var Y=w(j);q=Ce(Y,V),Y.forEach(u),R.forEach(u),U=v(d),m=a(d,"DIV",{class:!0});var W=w(m);y=a(W,"SPAN",{"data-svelte-h":!0}),S(y)!=="svelte-2fqrek"&&(y.textContent=A),J=a(W,"SPAN",{});var te=w(J);F=Ce(te,P),te.forEach(u),W.forEach(u),d.forEach(u),this.h()},h(){l(n,"class","flex justify-between text-gray-600"),l(I,"class","flex justify-between text-gray-600"),l(f,"class","flex justify-between"),l(m,"class","flex justify-between font-bold text-lg border-t pt-2 mt-2"),l(t,"class","bg-gray-50 p-4 rounded space-y-2")},m(c,d){Z(c,t,d),e(t,n),e(n,g),e(n,o),e(o,L),e(t,x),e(t,I),e(I,B),e(I,_),e(_,E),e(t,C),e(t,f),e(f,p),e(f,j),e(j,q),e(t,U),e(t,m),e(m,y),e(m,J),e(J,F)},p(c,d){d[0]&32&&i!==(i=c[6].format(c[5].summary.subtotal)+"")&&ge(L,i),d[0]&32&&N!==(N=c[6].format(c[5].summary.shipping)+"")&&ge(E,N),d[0]&32&&V!==(V=c[6].format(c[5].summary.tax)+"")&&ge(q,V),d[0]&32&&P!==(P=c[6].format(c[5].summary.total)+"")&&ge(F,P)},d(c){c&&u(t)}}}function We(s){let t,n,g="Full Name",D,o,i,L,x,I="Phone Number",B,k,_,N,E,C="Address Line 1",f,p,b,j,V,q="Address Line 2",U,m,y,A,J,P,F="City",c,d,$,ne,ee,X="State",R,Y,W,te,O,Q,Ne="Postal Code",ie,se,pe,_e,fe,oe="Country",Ie,le,ae,Te="India",de,ue="United States",ce,Se;return{c(){t=r("div"),n=r("label"),n.textContent=g,D=h(),o=r("input"),i=h(),L=r("div"),x=r("label"),x.textContent=I,B=h(),k=r("input"),_=h(),N=r("div"),E=r("label"),E.textContent=C,f=h(),p=r("input"),b=h(),j=r("div"),V=r("label"),V.textContent=q,U=h(),m=r("input"),y=h(),A=r("div"),J=r("div"),P=r("label"),P.textContent=F,c=h(),d=r("input"),$=h(),ne=r("div"),ee=r("label"),ee.textContent=X,R=h(),Y=r("input"),W=h(),te=r("div"),O=r("div"),Q=r("label"),Q.textContent=Ne,ie=h(),se=r("input"),pe=h(),_e=r("div"),fe=r("label"),fe.textContent=oe,Ie=h(),le=r("select"),ae=r("option"),ae.textContent=Te,de=r("option"),de.textContent=ue,this.h()},l(T){t=a(T,"DIV",{});var M=w(t);n=a(M,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(n)!=="svelte-m9nnlh"&&(n.textContent=g),D=v(M),o=a(M,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),M.forEach(u),i=v(T),L=a(T,"DIV",{});var ve=w(L);x=a(ve,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(x)!=="svelte-zb8dpj"&&(x.textContent=I),B=v(ve),k=a(ve,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),ve.forEach(u),_=v(T),N=a(T,"DIV",{});var he=w(N);E=a(he,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(E)!=="svelte-ebbebd"&&(E.textContent=C),f=v(he),p=a(he,"INPUT",{id:!0,type:!0,class:!0}),he.forEach(u),b=v(T),j=a(T,"DIV",{});var be=w(j);V=a(be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(V)!=="svelte-1a6famb"&&(V.textContent=q),U=v(be),m=a(be,"INPUT",{id:!0,type:!0,class:!0}),be.forEach(u),y=v(T),A=a(T,"DIV",{class:!0});var ke=w(A);J=a(ke,"DIV",{});var Pe=w(J);P=a(Pe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(P)!=="svelte-1lhwruo"&&(P.textContent=F),c=v(Pe),d=a(Pe,"INPUT",{id:!0,type:!0,class:!0}),Pe.forEach(u),$=v(ke),ne=a(ke,"DIV",{});var K=w(ne);ee=a(K,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(ee)!=="svelte-ef9vqm"&&(ee.textContent=X),R=v(K),Y=a(K,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),K.forEach(u),ke.forEach(u),W=v(T),te=a(T,"DIV",{class:!0});var z=w(te);O=a(z,"DIV",{});var me=w(O);Q=a(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Q)!=="svelte-1apg9s1"&&(Q.textContent=Ne),ie=v(me),se=a(me,"INPUT",{id:!0,type:!0,class:!0}),me.forEach(u),pe=v(z),_e=a(z,"DIV",{});var ye=w(_e);fe=a(ye,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(fe)!=="svelte-182y7ni"&&(fe.textContent=oe),Ie=v(ye),le=a(ye,"SELECT",{id:!0,class:!0});var Ee=w(le);ae=a(Ee,"OPTION",{"data-svelte-h":!0}),S(ae)!=="svelte-e6fjjy"&&(ae.textContent=Te),de=a(Ee,"OPTION",{"data-svelte-h":!0}),S(de)!=="svelte-1sfjp7n"&&(de.textContent=ue),Ee.forEach(u),ye.forEach(u),z.forEach(u),this.h()},h(){l(n,"for","billing_full_name"),l(n,"class","block text-sm font-medium mb-1"),l(o,"id","billing_full_name"),l(o,"type","text"),o.required=!0,l(o,"class","w-full border p-2 rounded"),l(o,"placeholder","John Doe"),l(x,"for","billing_phone"),l(x,"class","block text-sm font-medium mb-1"),l(k,"id","billing_phone"),l(k,"type","tel"),k.required=!0,l(k,"class","w-full border p-2 rounded"),l(k,"placeholder","+91 9876543210"),l(E,"for","billing_address_line1"),l(E,"class","block text-sm font-medium mb-1"),l(p,"id","billing_address_line1"),l(p,"type","text"),p.required=!0,l(p,"class","w-full border p-2 rounded"),l(V,"for","billing_address_line2"),l(V,"class","block text-sm font-medium mb-1"),l(m,"id","billing_address_line2"),l(m,"type","text"),l(m,"class","w-full border p-2 rounded"),l(P,"for","billing_city"),l(P,"class","block text-sm font-medium mb-1"),l(d,"id","billing_city"),l(d,"type","text"),d.required=!0,l(d,"class","w-full border p-2 rounded"),l(ee,"for","billing_state"),l(ee,"class","block text-sm font-medium mb-1"),l(Y,"id","billing_state"),l(Y,"type","text"),Y.required=!0,l(Y,"class","w-full border p-2 rounded"),l(Y,"placeholder","e.g. TN"),l(A,"class","grid grid-cols-2 gap-4"),l(Q,"for","billing_postal_code"),l(Q,"class","block text-sm font-medium mb-1"),l(se,"id","billing_postal_code"),l(se,"type","text"),se.required=!0,l(se,"class","w-full border p-2 rounded"),l(fe,"for","billing_country"),l(fe,"class","block text-sm font-medium mb-1"),ae.__value="IN",H(ae,ae.__value),de.__value="US",H(de,de.__value),l(le,"id","billing_country"),l(le,"class","w-full border p-2 rounded"),s[1].country===void 0&&Ze(()=>s[28].call(le)),l(te,"class","grid grid-cols-2 gap-4")},m(T,M){Z(T,t,M),e(t,n),e(t,D),e(t,o),H(o,s[1].full_name),Z(T,i,M),Z(T,L,M),e(L,x),e(L,B),e(L,k),H(k,s[1].phone),Z(T,_,M),Z(T,N,M),e(N,E),e(N,f),e(N,p),H(p,s[1].address_line1),Z(T,b,M),Z(T,j,M),e(j,V),e(j,U),e(j,m),H(m,s[1].address_line2),Z(T,y,M),Z(T,A,M),e(A,J),e(J,P),e(J,c),e(J,d),H(d,s[1].city),e(A,$),e(A,ne),e(ne,ee),e(ne,R),e(ne,Y),H(Y,s[1].state),Z(T,W,M),Z(T,te,M),e(te,O),e(O,Q),e(O,ie),e(O,se),H(se,s[1].postal_code),e(te,pe),e(te,_e),e(_e,fe),e(_e,Ie),e(_e,le),e(le,ae),e(le,de),Me(le,s[1].country,!0),ce||(Se=[G(o,"input",s[21]),G(k,"input",s[22]),G(p,"input",s[23]),G(m,"input",s[24]),G(d,"input",s[25]),G(Y,"input",s[26]),G(se,"input",s[27]),G(le,"change",s[28])],ce=!0)},p(T,M){M[0]&2&&o.value!==T[1].full_name&&H(o,T[1].full_name),M[0]&2&&H(k,T[1].phone),M[0]&2&&p.value!==T[1].address_line1&&H(p,T[1].address_line1),M[0]&2&&m.value!==T[1].address_line2&&H(m,T[1].address_line2),M[0]&2&&d.value!==T[1].city&&H(d,T[1].city),M[0]&2&&Y.value!==T[1].state&&H(Y,T[1].state),M[0]&2&&se.value!==T[1].postal_code&&H(se,T[1].postal_code),M[0]&2&&Me(le,T[1].country)},d(T){T&&(u(t),u(i),u(L),u(_),u(N),u(b),u(j),u(y),u(A),u(W),u(te)),ce=!1,Ae(Se)}}}function mt(s){let t,n,g,D="Checkout",o,i,L="Cancel & Return to Cart",x,I,B,k;function _(C,f){return f[0]&16&&(I=null),I==null&&(I=!!(C[4].error&&C[4].error.toLowerCase().includes("not logged in"))),I?ft:pt}let N=_(s,[-1,-1]),E=N(s);return{c(){t=r("div"),n=r("div"),g=r("h1"),g.textContent=D,o=h(),i=r("button"),i.textContent=L,x=h(),E.c(),this.h()},l(C){t=a(C,"DIV",{class:!0});var f=w(t);n=a(f,"DIV",{class:!0});var p=w(n);g=a(p,"H1",{class:!0,"data-svelte-h":!0}),S(g)!=="svelte-1ixfhb9"&&(g.textContent=D),o=v(p),i=a(p,"BUTTON",{class:!0,"data-svelte-h":!0}),S(i)!=="svelte-14lsdr8"&&(i.textContent=L),p.forEach(u),x=v(f),E.l(f),f.forEach(u),this.h()},h(){l(g,"class","text-3xl font-bold"),l(i,"class","text-sm text-red-600 hover:underline"),l(n,"class","flex justify-between items-center mb-8"),l(t,"class","max-w-2xl mx-auto py-10 px-4")},m(C,f){Z(C,t,f),e(t,n),e(n,g),e(n,o),e(n,i),e(t,x),E.m(t,null),B||(k=G(i,"click",s[11]),B=!0)},p(C,f){N===(N=_(C,f))&&E?E.p(C,f):(E.d(1),E=N(C),E&&(E.c(),E.m(t,null)))},i:He,o:He,d(C){C&&u(t),E.d(),B=!1,k()}}}function yt(s,t,n){let g,D;Xe(s,at,O=>n(4,g=O)),Xe(s,re,O=>n(5,D=O));let o={full_name:"",phone:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"USA"},i={full_name:"",phone:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"USA"},L=!0,x="NORMAL";const I=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});et(()=>{st(),re.update(O=>({...O,step:"shipping",error:null}))});async function B(){try{await it(o)}catch{}}async function k(){try{await ot(L?o:i)}catch{}}async function _(){try{await ut(x)}catch{}}async function N(){const O=await ct();O!=null&&O.approval_url&&(window.location.href=O.approval_url)}async function E(){confirm("Are you sure you want to cancel checkout?")&&(await dt(),window.location.href="/cart")}const C=[[]];function f(){o.full_name=this.value,n(0,o)}function p(){o.phone=this.value,n(0,o)}function b(){o.address_line1=this.value,n(0,o)}function j(){o.address_line2=this.value,n(0,o)}function V(){o.city=this.value,n(0,o)}function q(){o.state=this.value,n(0,o)}function U(){o.postal_code=this.value,n(0,o)}function m(){o.country=Ye(this),n(0,o)}function y(){L=this.checked,n(2,L)}function A(){i.full_name=this.value,n(1,i)}function J(){i.phone=this.value,n(1,i)}function P(){i.address_line1=this.value,n(1,i)}function F(){i.address_line2=this.value,n(1,i)}function c(){i.city=this.value,n(1,i)}function d(){i.state=this.value,n(1,i)}function $(){i.postal_code=this.value,n(1,i)}function ne(){i.country=Ye(this),n(1,i)}const ee=()=>re.update(O=>({...O,step:"shipping"}));function X(){x=this.__value,n(3,x)}function R(){x=this.__value,n(3,x)}function Y(){x=this.__value,n(3,x)}return[o,i,L,x,g,D,I,B,k,_,N,E,f,p,b,j,V,q,U,m,y,A,J,P,F,c,d,$,ne,ee,X,C,R,Y,()=>re.update(O=>({...O,step:"billing_address"})),()=>re.update(O=>({...O,step:"delivery"}))]}class wt extends tt{constructor(t){super(),lt(this,t,yt,mt,$e,{},null,[-1,-1])}}export{wt as component};

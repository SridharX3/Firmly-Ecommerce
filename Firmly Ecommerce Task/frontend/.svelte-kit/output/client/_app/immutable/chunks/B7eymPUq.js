const d="https://auth-worker.sridhar-89c.workers.dev",h="https://products-worker.sridhar-89c.workers.dev",w="https://cart-worker.sridhar-89c.workers.dev",l="https://order-worker.sridhar-89c.workers.dev",u=[d,h,w,l];async function f(s,n={}){if(!u.some(e=>s.startsWith(e)))throw console.error(`Attempted to fetch from an unauthorized URL: ${s}`),new Error("Unauthorized API endpoint.");const{method:a="GET",headers:i={},body:r}=n,o=r instanceof FormData,c=typeof r=="string",t=await fetch(s,{method:a,credentials:"include",headers:{...o?{}:{"Content-Type":"application/json"},...i},body:r==null?void 0:o||c?r:JSON.stringify(r)});if(!t.ok){let e;try{e=await t.json()}catch{throw new Error(`Request failed (${t.status})`)}throw new Error(e.error||e.message||"Request failed")}return t.status===204?null:t.json()}export{d as A,w as C,l as O,h as P,f as a};

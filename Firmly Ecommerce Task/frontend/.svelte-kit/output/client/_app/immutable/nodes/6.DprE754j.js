import{a as ne}from"../chunks/B7eymPUq.js";import{s as oe,n as $,d as u,i as O,m as s,a as h,c as f,q as v,g as ee,b as I,f as _,h as S,l as V,r as b,t as y,k as de}from"../chunks/C0j6wI00.js";import{e as ae}from"../chunks/D6YF6ztN.js";import{S as ie,i as ce}from"../chunks/CSS4gbkW.js";async function ue({fetch:o}){try{return{orders:await ne("https://order-worker.sridhar-89c.workers.dev/orders",{fetch:o,credentials:"include"})}}catch(e){return{orders:[],error:e.message}}}const xe=Object.freeze(Object.defineProperty({__proto__:null,load:ue},Symbol.toStringTag,{value:"Module"}));function le(o,e,a){const t=o.slice();return t[1]=e[a],t}function he(o){let e,a='<h2 class="text-xl font-bold mb-4">No Orders Found</h2> <p class="text-gray-600">You haven&#39;t placed any orders yet.</p> <a href="/" class="mt-6 inline-block bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition">Start Shopping</a>';return{c(){e=_("div"),e.innerHTML=a,this.h()},l(t){e=f(t,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1bdtge4"&&(e.innerHTML=a),this.h()},h(){h(e,"class","text-center py-12 border rounded-lg bg-gray-50")},m(t,r){O(t,e,r)},p:$,d(t){t&&u(e)}}}function fe(o){let e,a=ae(o[0].orders),t=[];for(let r=0;r<a.length;r+=1)t[r]=se(le(o,a,r));return{c(){e=_("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=f(r,"DIV",{class:!0});var c=v(e);for(let l=0;l<t.length;l+=1)t[l].l(c);c.forEach(u),this.h()},h(){h(e,"class","space-y-6")},m(r,c){O(r,e,c);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(r,c){if(c&1){a=ae(r[0].orders);let l;for(l=0;l<a.length;l+=1){const n=le(r,a,l);t[l]?t[l].p(n,c):(t[l]=se(n),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=a.length}},d(r){r&&u(e),de(t,r)}}}function _e(o){let e,a,t,r=o[0].error+"",c,l,n,i="Please ensure you are logged in.";return{c(){e=_("div"),a=_("p"),t=y("Could not load orders: "),c=y(r),l=S(),n=_("p"),n.textContent=i,this.h()},l(d){e=f(d,"DIV",{class:!0});var g=v(e);a=f(g,"P",{});var x=v(a);t=b(x,"Could not load orders: "),c=b(x,r),x.forEach(u),l=I(g),n=f(g,"P",{"data-svelte-h":!0}),ee(n)!=="svelte-1ecvf0q"&&(n.textContent=i),g.forEach(u),this.h()},h(){h(e,"class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6")},m(d,g){O(d,e,g),s(e,a),s(a,t),s(a,c),s(e,l),s(e,n)},p(d,g){g&1&&r!==(r=d[0].error+"")&&V(c,r)},d(d){d&&u(e)}}}function se(o){let e,a,t,r,c,l=o[1].id+"",n,i,d,g,x=new Date(o[1].created_at).toLocaleDateString()+"",H,Y,k,B,D,A=o[1].status+"",M,N,G,E,w,F=new Intl.NumberFormat("en-US",{style:"currency",currency:o[1].currency}).format(o[1].total_amount)+"",j,J,P,L=o[1].ordered_items.length+"",q,K,Q,T;return{c(){e=_("a"),a=_("div"),t=_("div"),r=_("h2"),c=y("Order #"),n=y(l),i=S(),d=_("p"),g=y("Placed on: "),H=y(x),Y=S(),k=_("p"),B=y(`Status:
                `),D=_("span"),M=y(A),G=S(),E=_("div"),w=_("p"),j=y(F),J=S(),P=_("p"),q=y(L),K=y(" items"),Q=S(),this.h()},l(p){e=f(p,"A",{href:!0,class:!0});var m=v(e);a=f(m,"DIV",{class:!0});var U=v(a);t=f(U,"DIV",{});var C=v(t);r=f(C,"H2",{class:!0});var R=v(r);c=b(R,"Order #"),n=b(R,l),R.forEach(u),i=I(C),d=f(C,"P",{class:!0});var W=v(d);g=b(W,"Placed on: "),H=b(W,x),W.forEach(u),Y=I(C),k=f(C,"P",{class:!0});var X=v(k);B=b(X,`Status:
                `),D=f(X,"SPAN",{class:!0});var te=v(D);M=b(te,A),te.forEach(u),X.forEach(u),C.forEach(u),G=I(U),E=f(U,"DIV",{class:!0});var z=v(E);w=f(z,"P",{class:!0});var re=v(w);j=b(re,F),re.forEach(u),J=I(z),P=f(z,"P",{class:!0});var Z=v(P);q=b(Z,L),K=b(Z," items"),Z.forEach(u),z.forEach(u),U.forEach(u),Q=I(m),m.forEach(u),this.h()},h(){h(r,"class","text-xl font-semibold"),h(d,"class","text-sm text-gray-500"),h(D,"class",N="font-medium px-2 py-1 rounded-full "+(o[1].status==="PAID"?"bg-green-100 text-green-700":o[1].status==="FAILED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600")),h(k,"class","mt-2 text-sm"),h(w,"class","text-lg font-bold"),h(P,"class","text-sm text-gray-500"),h(E,"class","text-right"),h(a,"class","flex justify-between items-start"),h(e,"href",T="/order/"+o[1].id),h(e,"class","block border rounded-lg p-6 hover:shadow-lg transition")},m(p,m){O(p,e,m),s(e,a),s(a,t),s(t,r),s(r,c),s(r,n),s(t,i),s(t,d),s(d,g),s(d,H),s(t,Y),s(t,k),s(k,B),s(k,D),s(D,M),s(a,G),s(a,E),s(E,w),s(w,j),s(E,J),s(E,P),s(P,q),s(P,K),s(e,Q)},p(p,m){m&1&&l!==(l=p[1].id+"")&&V(n,l),m&1&&x!==(x=new Date(p[1].created_at).toLocaleDateString()+"")&&V(H,x),m&1&&A!==(A=p[1].status+"")&&V(M,A),m&1&&N!==(N="font-medium px-2 py-1 rounded-full "+(p[1].status==="PAID"?"bg-green-100 text-green-700":p[1].status==="FAILED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"))&&h(D,"class",N),m&1&&F!==(F=new Intl.NumberFormat("en-US",{style:"currency",currency:p[1].currency}).format(p[1].total_amount)+"")&&V(j,F),m&1&&L!==(L=p[1].ordered_items.length+"")&&V(q,L),m&1&&T!==(T="/order/"+p[1].id)&&h(e,"href",T)},d(p){p&&u(e)}}}function pe(o){let e,a,t="My Orders",r;function c(i,d){return i[0].error?_e:i[0].orders&&i[0].orders.length>0?fe:he}let l=c(o),n=l(o);return{c(){e=_("div"),a=_("h1"),a.textContent=t,r=S(),n.c(),this.h()},l(i){e=f(i,"DIV",{class:!0});var d=v(e);a=f(d,"H1",{class:!0,"data-svelte-h":!0}),ee(a)!=="svelte-1eyxdgu"&&(a.textContent=t),r=I(d),n.l(d),d.forEach(u),this.h()},h(){h(a,"class","text-3xl font-bold mb-8"),h(e,"class","max-w-4xl mx-auto py-10 px-4")},m(i,d){O(i,e,d),s(e,a),s(e,r),n.m(e,null)},p(i,[d]){l===(l=c(i))&&n?n.p(i,d):(n.d(1),n=l(i),n&&(n.c(),n.m(e,null)))},i:$,o:$,d(i){i&&u(e),n.d()}}}function ve(o,e,a){let{data:t}=e;return o.$$set=r=>{"data"in r&&a(0,t=r.data)},[t]}class Ee extends ie{constructor(e){super(),ce(this,e,ve,pe,oe,{data:0})}}export{Ee as component,xe as universal};

import{a as ht}from"../chunks/B7eymPUq.js";import{s as mt,d,i as R,m as e,a as c,c as n,q as _,b as p,f as o,h as v,r as y,t as x,k as gt,l as $,g as z,n as bt}from"../chunks/C0j6wI00.js";import{S as yt,i as xt,d as Dt,t as Et,a as Ct,m as kt,b as It,e as Pt}from"../chunks/CSS4gbkW.js";import{e as ft}from"../chunks/D6YF6ztN.js";import{B as Vt}from"../chunks/CfZhOsrX.js";async function $t({fetch:s,params:t}){try{return{order:await ht(`https://order-worker.sridhar-89c.workers.dev/orders/${t.checkout_id}`,{fetch:s,credentials:"include"})}}catch(l){return{order:null,error:l.message}}}const Tt=Object.freeze(Object.defineProperty({__proto__:null,load:$t},Symbol.toStringTag,{value:"Module"}));function He(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(s)}function _t(s,t,l){const a=s.slice();return a[1]=t[l],a}function St(s){let t,l='<h2 class="text-xl font-bold mb-4">Order Not Found</h2> <p class="text-gray-600">We couldn&#39;t find the order you&#39;re looking for.</p>';return{c(){t=o("div"),t.innerHTML=l,this.h()},l(a){t=n(a,"DIV",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-p8azts"&&(t.innerHTML=l),this.h()},h(){c(t,"class","text-center py-12 border rounded-lg bg-gray-50")},m(a,i){R(a,t,i)},p:bt,d(a){a&&d(t)}}}function wt(s){let t,l,a=s[0].order.id+"",i,D,S,P,m=new Date(s[0].order.created_at).toLocaleDateString()+"",u,g,E,w,F,M="Order Items",N,C,B,O,H,L,ae="Order Summary",Le,A,Q,U,rt="Status",Re,W,ne=s[0].order.status+"",he,me,qe,G,J,st="Delivery",je,te,oe=s[0].order.delivery_mode+"",ge,Te,K,X,lt="Payment Reference",ze,re,de=s[0].order.payment_reference+"",be,Me,q,Y,at="Total",Ne,se,ie=He(s[0].order.total_amount)+"",ye,Qe,j,Z,nt="Shipping Address",Ue,h,ce=s[0].order.shipping_address.full_name+"",xe,We,Ge,ue=s[0].order.shipping_address.address_line1+"",De,Je,Ke,Ee,fe=s[0].order.shipping_address.city+"",Ce,Xe,_e=s[0].order.shipping_address.state+"",ke,Ye,pe=s[0].order.shipping_address.postal_code+"",Ie,Ze,et,ve=s[0].order.shipping_address.country+"",Pe,le=ft(s[0].order.ordered_items),k=[];for(let r=0;r<le.length;r+=1)k[r]=pt(_t(s,le,r));let V=s[0].order.shipping_address.address_line2&&vt(s);return{c(){t=o("h1"),l=x("Order #"),i=x(a),D=v(),S=o("p"),P=x("Placed on "),u=x(m),g=v(),E=o("div"),w=o("div"),F=o("h2"),F.textContent=M,N=v(),C=o("div");for(let r=0;r<k.length;r+=1)k[r].c();B=v(),O=o("div"),H=o("div"),L=o("h2"),L.textContent=ae,Le=v(),A=o("div"),Q=o("div"),U=o("p"),U.textContent=rt,Re=v(),W=o("p"),he=x(ne),qe=v(),G=o("div"),J=o("p"),J.textContent=st,je=v(),te=o("p"),ge=x(oe),Te=v(),K=o("div"),X=o("p"),X.textContent=lt,ze=v(),re=o("p"),be=x(de),Me=v(),q=o("div"),Y=o("p"),Y.textContent=at,Ne=v(),se=o("p"),ye=x(ie),Qe=v(),j=o("div"),Z=o("h3"),Z.textContent=nt,Ue=v(),h=o("address"),xe=x(ce),We=o("br"),Ge=v(),De=x(ue),Je=o("br"),Ke=v(),V&&V.c(),Ee=v(),Ce=x(fe),Xe=x(", "),ke=x(_e),Ye=v(),Ie=x(pe),Ze=o("br"),et=v(),Pe=x(ve),this.h()},l(r){t=n(r,"H1",{class:!0});var f=_(t);l=y(f,"Order #"),i=y(f,a),f.forEach(d),D=p(r),S=n(r,"P",{class:!0});var b=_(S);P=y(b,"Placed on "),u=y(b,m),b.forEach(d),g=p(r),E=n(r,"DIV",{class:!0});var ee=_(E);w=n(ee,"DIV",{class:!0});var Ve=_(w);F=n(Ve,"H2",{class:!0,"data-svelte-h":!0}),z(F)!=="svelte-1t63tj4"&&(F.textContent=M),N=p(Ve),C=n(Ve,"DIV",{class:!0});var ot=_(C);for(let tt=0;tt<k.length;tt+=1)k[tt].l(ot);ot.forEach(d),Ve.forEach(d),B=p(ee),O=n(ee,"DIV",{});var $e=_(O);H=n($e,"DIV",{class:!0});var Se=_(H);L=n(Se,"H2",{class:!0,"data-svelte-h":!0}),z(L)!=="svelte-vvnw64"&&(L.textContent=ae),Le=p(Se),A=n(Se,"DIV",{class:!0});var T=_(A);Q=n(T,"DIV",{});var we=_(Q);U=n(we,"P",{class:!0,"data-svelte-h":!0}),z(U)!=="svelte-9jwcxo"&&(U.textContent=rt),Re=p(we),W=n(we,"P",{class:!0});var dt=_(W);he=y(dt,ne),dt.forEach(d),we.forEach(d),qe=p(T),G=n(T,"DIV",{});var Be=_(G);J=n(Be,"P",{class:!0,"data-svelte-h":!0}),z(J)!=="svelte-sevq9e"&&(J.textContent=st),je=p(Be),te=n(Be,"P",{class:!0});var it=_(te);ge=y(it,oe),it.forEach(d),Be.forEach(d),Te=p(T),K=n(T,"DIV",{});var Fe=_(K);X=n(Fe,"P",{class:!0,"data-svelte-h":!0}),z(X)!=="svelte-de0lap"&&(X.textContent=lt),ze=p(Fe),re=n(Fe,"P",{class:!0});var ct=_(re);be=y(ct,de),ct.forEach(d),Fe.forEach(d),Me=p(T),q=n(T,"DIV",{class:!0});var Oe=_(q);Y=n(Oe,"P",{class:!0,"data-svelte-h":!0}),z(Y)!=="svelte-1nkkz7c"&&(Y.textContent=at),Ne=p(Oe),se=n(Oe,"P",{class:!0});var ut=_(se);ye=y(ut,ie),ut.forEach(d),Oe.forEach(d),T.forEach(d),Se.forEach(d),Qe=p($e),j=n($e,"DIV",{class:!0});var Ae=_(j);Z=n(Ae,"H3",{class:!0,"data-svelte-h":!0}),z(Z)!=="svelte-xlkfil"&&(Z.textContent=nt),Ue=p(Ae),h=n(Ae,"ADDRESS",{class:!0});var I=_(h);xe=y(I,ce),We=n(I,"BR",{}),Ge=p(I),De=y(I,ue),Je=n(I,"BR",{}),Ke=p(I),V&&V.l(I),Ee=p(I),Ce=y(I,fe),Xe=y(I,", "),ke=y(I,_e),Ye=p(I),Ie=y(I,pe),Ze=n(I,"BR",{}),et=p(I),Pe=y(I,ve),I.forEach(d),Ae.forEach(d),$e.forEach(d),ee.forEach(d),this.h()},h(){c(t,"class","text-3xl font-bold mb-2"),c(S,"class","text-gray-600 mb-8"),c(F,"class","text-xl font-semibold mb-4"),c(C,"class","space-y-4"),c(w,"class","md:col-span-2"),c(L,"class","text-xl font-semibold mb-4"),c(U,"class","text-sm text-gray-500"),c(W,"class",me="font-medium px-2 py-1 rounded-full text-sm inline-block "+(s[0].order.status==="PAID"?"bg-green-100 text-green-700":s[0].order.status==="FAILED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600")),c(J,"class","text-sm text-gray-500"),c(te,"class","font-medium"),c(X,"class","text-sm text-gray-500"),c(re,"class","font-medium"),c(Y,"class","text-sm text-gray-500"),c(se,"class","font-bold text-lg"),c(q,"class","border-t mt-4 pt-4"),c(A,"class","space-y-4"),c(H,"class","bg-gray-50 p-6 rounded-lg"),c(Z,"class","text-lg font-semibold mb-2"),c(h,"class","not-italic text-gray-600"),c(j,"class","mt-8"),c(E,"class","grid md:grid-cols-3 gap-8")},m(r,f){R(r,t,f),e(t,l),e(t,i),R(r,D,f),R(r,S,f),e(S,P),e(S,u),R(r,g,f),R(r,E,f),e(E,w),e(w,F),e(w,N),e(w,C);for(let b=0;b<k.length;b+=1)k[b]&&k[b].m(C,null);e(E,B),e(E,O),e(O,H),e(H,L),e(H,Le),e(H,A),e(A,Q),e(Q,U),e(Q,Re),e(Q,W),e(W,he),e(A,qe),e(A,G),e(G,J),e(G,je),e(G,te),e(te,ge),e(A,Te),e(A,K),e(K,X),e(K,ze),e(K,re),e(re,be),e(A,Me),e(A,q),e(q,Y),e(q,Ne),e(q,se),e(se,ye),e(O,Qe),e(O,j),e(j,Z),e(j,Ue),e(j,h),e(h,xe),e(h,We),e(h,Ge),e(h,De),e(h,Je),e(h,Ke),V&&V.m(h,null),e(h,Ee),e(h,Ce),e(h,Xe),e(h,ke),e(h,Ye),e(h,Ie),e(h,Ze),e(h,et),e(h,Pe)},p(r,f){if(f&1&&a!==(a=r[0].order.id+"")&&$(i,a),f&1&&m!==(m=new Date(r[0].order.created_at).toLocaleDateString()+"")&&$(u,m),f&1){le=ft(r[0].order.ordered_items);let b;for(b=0;b<le.length;b+=1){const ee=_t(r,le,b);k[b]?k[b].p(ee,f):(k[b]=pt(ee),k[b].c(),k[b].m(C,null))}for(;b<k.length;b+=1)k[b].d(1);k.length=le.length}f&1&&ne!==(ne=r[0].order.status+"")&&$(he,ne),f&1&&me!==(me="font-medium px-2 py-1 rounded-full text-sm inline-block "+(r[0].order.status==="PAID"?"bg-green-100 text-green-700":r[0].order.status==="FAILED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"))&&c(W,"class",me),f&1&&oe!==(oe=r[0].order.delivery_mode+"")&&$(ge,oe),f&1&&de!==(de=r[0].order.payment_reference+"")&&$(be,de),f&1&&ie!==(ie=He(r[0].order.total_amount)+"")&&$(ye,ie),f&1&&ce!==(ce=r[0].order.shipping_address.full_name+"")&&$(xe,ce),f&1&&ue!==(ue=r[0].order.shipping_address.address_line1+"")&&$(De,ue),r[0].order.shipping_address.address_line2?V?V.p(r,f):(V=vt(r),V.c(),V.m(h,Ee)):V&&(V.d(1),V=null),f&1&&fe!==(fe=r[0].order.shipping_address.city+"")&&$(Ce,fe),f&1&&_e!==(_e=r[0].order.shipping_address.state+"")&&$(ke,_e),f&1&&pe!==(pe=r[0].order.shipping_address.postal_code+"")&&$(Ie,pe),f&1&&ve!==(ve=r[0].order.shipping_address.country+"")&&$(Pe,ve)},d(r){r&&(d(t),d(D),d(S),d(g),d(E)),gt(k,r),V&&V.d()}}}function pt(s){let t,l,a,i=s[1].name+"",D,S,P,m,u=s[1].quantity+"",g,E,w,F=He(s[1].price)+"",M,N;return{c(){t=o("div"),l=o("div"),a=o("p"),D=x(i),S=v(),P=o("p"),m=x("Qty: "),g=x(u),E=v(),w=o("p"),M=x(F),N=v(),this.h()},l(C){t=n(C,"DIV",{class:!0});var B=_(t);l=n(B,"DIV",{class:!0});var O=_(l);a=n(O,"P",{class:!0});var H=_(a);D=y(H,i),H.forEach(d),S=p(O),P=n(O,"P",{class:!0});var L=_(P);m=y(L,"Qty: "),g=y(L,u),L.forEach(d),O.forEach(d),E=p(B),w=n(B,"P",{class:!0});var ae=_(w);M=y(ae,F),ae.forEach(d),N=p(B),B.forEach(d),this.h()},h(){c(a,"class","font-semibold"),c(P,"class","text-sm text-gray-500"),c(l,"class","flex-1"),c(w,"class","font-medium"),c(t,"class","flex items-center space-x-4 border-b pb-4")},m(C,B){R(C,t,B),e(t,l),e(l,a),e(a,D),e(l,S),e(l,P),e(P,m),e(P,g),e(t,E),e(t,w),e(w,M),e(t,N)},p(C,B){B&1&&i!==(i=C[1].name+"")&&$(D,i),B&1&&u!==(u=C[1].quantity+"")&&$(g,u),B&1&&F!==(F=He(C[1].price)+"")&&$(M,F)},d(C){C&&d(t)}}}function vt(s){let t=s[0].order.shipping_address.address_line2+"",l,a;return{c(){l=x(t),a=o("br")},l(i){l=y(i,t),a=n(i,"BR",{})},m(i,D){R(i,l,D),R(i,a,D)},p(i,D){D&1&&t!==(t=i[0].order.shipping_address.address_line2+"")&&$(l,t)},d(i){i&&(d(l),d(a))}}}function Bt(s){let t;return{c(){t=x("← Back to all orders")},l(l){t=y(l,"← Back to all orders")},m(l,a){R(l,t,a)},d(l){l&&d(t)}}}function Ft(s){let t,l,a,i,D;function S(u,g){return u[0].order?wt:St}let P=S(s),m=P(s);return i=new Vt({props:{href:"/order",ui_button_styles:Ot,$$slots:{default:[Bt]},$$scope:{ctx:s}}}),{c(){t=o("div"),m.c(),l=v(),a=o("div"),Pt(i.$$.fragment),this.h()},l(u){t=n(u,"DIV",{class:!0});var g=_(t);m.l(g),l=p(g),a=n(g,"DIV",{class:!0});var E=_(a);It(i.$$.fragment,E),E.forEach(d),g.forEach(d),this.h()},h(){c(a,"class","mt-12 text-center"),c(t,"class","max-w-4xl mx-auto py-10 px-4")},m(u,g){R(u,t,g),m.m(t,null),e(t,l),e(t,a),kt(i,a,null),D=!0},p(u,[g]){P===(P=S(u))&&m?m.p(u,g):(m.d(1),m=P(u),m&&(m.c(),m.m(t,l)));const E={};g&16&&(E.$$scope={dirty:g,ctx:u}),i.$set(E)},i(u){D||(Ct(i.$$.fragment,u),D=!0)},o(u){Et(i.$$.fragment,u),D=!1},d(u){u&&d(t),m.d(),Dt(i)}}}const Ot="text-blue-600 hover:underline";function At(s,t,l){let{data:a}=t;return s.$$set=i=>{"data"in i&&l(0,a=i.data)},[a]}class zt extends yt{constructor(t){super(),xt(this,t,At,Ft,mt,{data:0})}}export{zt as component,Tt as universal};

import{s as _t,n as Q,d as h,i as P,a as _,c as p,g as S,b as D,e as X,f as v,h as T,j as ht,o as pt,k as vt,l as G,m as o,p as W,q as I,r as L,t as B,u as mt,v as st}from"../chunks/C0j6wI00.js";import{e as at}from"../chunks/D6YF6ztN.js";import{S as bt,i as Ct}from"../chunks/CSS4gbkW.js";import{l as kt,r as gt,u as ot,c as xt,a as yt}from"../chunks/BGipdwkA.js";function it(l,t,r){const e=l.slice();return e[7]=t[r],e}function Et(l){let t,r,e,n,s,a,i=l[3].format(l[0].subtotal)+"",c,b,d,A="Currency: USD",w,g,y,F="Clear Cart",U,E,z="Checkout",C,V,j=at(l[0].items),m=[];for(let u=0;u<j.length;u+=1)m[u]=ct(it(l,j,u));return{c(){t=v("div");for(let u=0;u<m.length;u+=1)m[u].c();r=T(),e=v("div"),n=v("div"),s=v("p"),a=B("Subtotal: "),c=B(i),b=T(),d=v("p"),d.textContent=A,w=T(),g=v("div"),y=v("button"),y.textContent=F,U=T(),E=v("a"),E.textContent=z,this.h()},l(u){t=p(u,"DIV",{class:!0});var k=I(t);for(let Y=0;Y<m.length;Y+=1)m[Y].l(k);k.forEach(h),r=D(u),e=p(u,"DIV",{class:!0});var f=I(e);n=p(f,"DIV",{});var N=I(n);s=p(N,"P",{class:!0});var q=I(s);a=L(q,"Subtotal: "),c=L(q,i),q.forEach(h),b=D(N),d=p(N,"P",{class:!0,"data-svelte-h":!0}),S(d)!=="svelte-t94fpn"&&(d.textContent=A),N.forEach(h),w=D(f),g=p(f,"DIV",{class:!0});var O=I(g);y=p(O,"BUTTON",{class:!0,"data-svelte-h":!0}),S(y)!=="svelte-12fp0u5"&&(y.textContent=F),U=D(O),E=p(O,"A",{href:!0,class:!0,"data-svelte-h":!0}),S(E)!=="svelte-nprj18"&&(E.textContent=z),O.forEach(h),f.forEach(h),this.h()},h(){_(t,"class","space-y-4"),_(s,"class","text-lg font-semibold"),_(d,"class","text-sm text-gray-500"),_(y,"class","border px-4 py-2 rounded"),_(E,"href","/checkout"),_(E,"class","bg-black text-white px-6 py-2 rounded"),_(g,"class","flex gap-4"),_(e,"class","mt-8 border-t pt-6 flex justify-between items-center")},m(u,k){P(u,t,k);for(let f=0;f<m.length;f+=1)m[f]&&m[f].m(t,null);P(u,r,k),P(u,e,k),o(e,n),o(n,s),o(s,a),o(s,c),o(n,b),o(n,d),o(e,w),o(e,g),o(g,y),o(g,U),o(g,E),C||(V=W(y,"click",xt),C=!0)},p(u,k){if(k&15){j=at(u[0].items);let f;for(f=0;f<j.length;f+=1){const N=it(u,j,f);m[f]?m[f].p(N,k):(m[f]=ct(N),m[f].c(),m[f].m(t,null))}for(;f<m.length;f+=1)m[f].d(1);m.length=j.length}k&1&&i!==(i=u[3].format(u[0].subtotal)+"")&&G(c,i)},d(u){u&&(h(t),h(r),h(e)),vt(m,u),C=!1,V()}}}function It(l){let t,r="Your cart is empty.";return{c(){t=v("p"),t.textContent=r,this.h()},l(e){t=p(e,"P",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-fx2gl2"&&(t.textContent=r),this.h()},h(){_(t,"class","text-gray-500")},m(e,n){P(e,t,n)},p:Q,d(e){e&&h(t)}}}function wt(l){let t,r;function e(a,i){return i&1&&(t=null),t==null&&(t=!!a[0].error.toLowerCase().includes("not logged in")),t?Tt:Dt}let n=e(l,-1),s=n(l);return{c(){s.c(),r=X()},l(a){s.l(a),r=X()},m(a,i){s.m(a,i),P(a,r,i)},p(a,i){n===(n=e(a,i))&&s?s.p(a,i):(s.d(1),s=n(a),s&&(s.c(),s.m(r.parentNode,r)))},d(a){a&&h(r),s.d(a)}}}function qt(l){let t,r="Loading cart...";return{c(){t=v("p"),t.textContent=r},l(e){t=p(e,"P",{"data-svelte-h":!0}),S(t)!=="svelte-1gwqeww"&&(t.textContent=r)},m(e,n){P(e,t,n)},p:Q,d(e){e&&h(t)}}}function ct(l){let t,r,e,n,s,a,i,c,b=l[7].name+"",d,A,w,g=l[3].format(l[7].price)+"",y,F,U=l[7].quantity+"",E,z,C,V,j="−",m,u,k=l[7].quantity+"",f,N,q,O="+",Y,H,et="Remove",Z,tt,lt;function ut(){return l[4](l[7])}function ft(){return l[5](l[7])}function dt(){return l[6](l[7])}return{c(){t=v("div"),r=v("div"),e=v("img"),a=T(),i=v("div"),c=v("h2"),d=B(b),A=T(),w=v("p"),y=B(g),F=B(" × "),E=B(U),z=T(),C=v("div"),V=v("button"),V.textContent=j,m=T(),u=v("span"),f=B(k),N=T(),q=v("button"),q.textContent=O,Y=T(),H=v("button"),H.textContent=et,Z=T(),this.h()},l($){t=p($,"DIV",{class:!0});var x=I(t);r=p(x,"DIV",{class:!0});var R=I(r);e=p(R,"IMG",{src:!0,alt:!0,class:!0}),a=D(R),i=p(R,"DIV",{});var J=I(i);c=p(J,"H2",{class:!0});var rt=I(c);d=L(rt,b),rt.forEach(h),A=D(J),w=p(J,"P",{class:!0});var K=I(w);y=L(K,g),F=L(K," × "),E=L(K,U),K.forEach(h),J.forEach(h),R.forEach(h),z=D(x),C=p(x,"DIV",{class:!0});var M=I(C);V=p(M,"BUTTON",{class:!0,"data-svelte-h":!0}),S(V)!=="svelte-1058p23"&&(V.textContent=j),m=D(M),u=p(M,"SPAN",{class:!0});var nt=I(u);f=L(nt,k),nt.forEach(h),N=D(M),q=p(M,"BUTTON",{class:!0,"data-svelte-h":!0}),S(q)!=="svelte-xzqmie"&&(q.textContent=O),Y=D(M),H=p(M,"BUTTON",{class:!0,"data-svelte-h":!0}),S(H)!=="svelte-89a5tv"&&(H.textContent=et),M.forEach(h),Z=D(x),x.forEach(h),this.h()},h(){st(e.src,n=l[7].image_url)||_(e,"src",n),_(e,"alt",s=l[7].name),_(e,"class","h-16 w-16 object-contain mr-4"),_(c,"class","font-semibold"),_(w,"class","text-sm text-gray-500"),_(r,"class","flex items-center"),_(V,"class","border px-2 rounded"),_(u,"class","w-6 text-center"),_(q,"class","border px-2 rounded"),_(H,"class","text-red-600 underline ml-4"),_(C,"class","flex items-center gap-3"),_(t,"class","flex justify-between items-center border p-4 rounded-lg")},m($,x){P($,t,x),o(t,r),o(r,e),o(r,a),o(r,i),o(i,c),o(c,d),o(i,A),o(i,w),o(w,y),o(w,F),o(w,E),o(t,z),o(t,C),o(C,V),o(C,m),o(C,u),o(u,f),o(C,N),o(C,q),o(C,Y),o(C,H),o(t,Z),tt||(lt=[W(V,"click",ut),W(q,"click",ft),W(H,"click",dt)],tt=!0)},p($,x){l=$,x&1&&!st(e.src,n=l[7].image_url)&&_(e,"src",n),x&1&&s!==(s=l[7].name)&&_(e,"alt",s),x&1&&b!==(b=l[7].name+"")&&G(d,b),x&1&&g!==(g=l[3].format(l[7].price)+"")&&G(y,g),x&1&&U!==(U=l[7].quantity+"")&&G(E,U),x&1&&k!==(k=l[7].quantity+"")&&G(f,k)},d($){$&&h(t),tt=!1,mt(lt)}}}function Dt(l){let t,r,e=l[0].error+"",n;return{c(){t=v("p"),r=B("Error: "),n=B(e),this.h()},l(s){t=p(s,"P",{class:!0});var a=I(t);r=L(a,"Error: "),n=L(a,e),a.forEach(h),this.h()},h(){_(t,"class","text-red-600")},m(s,a){P(s,t,a),o(t,r),o(t,n)},p(s,a){a&1&&e!==(e=s[0].error+"")&&G(n,e)},d(s){s&&h(t)}}}function Tt(l){let t,r='<h2 class="text-2xl font-bold mb-4">Please Log In</h2> <p class="text-gray-500 mb-6">You need to be logged in to view your cart.</p> <a href="/login" class="bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition">Log In</a>';return{c(){t=v("div"),t.innerHTML=r,this.h()},l(e){t=p(e,"DIV",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-ee12ky"&&(t.innerHTML=r),this.h()},h(){_(t,"class","text-center py-12")},m(e,n){P(e,t,n)},p:Q,d(e){e&&h(t)}}}function Pt(l){let t,r="Your Cart",e,n;function s(c,b){return c[0].loading?qt:c[0].error?wt:c[0].items.length===0?It:Et}let a=s(l),i=a(l);return{c(){t=v("h1"),t.textContent=r,e=T(),i.c(),n=X(),this.h()},l(c){t=p(c,"H1",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-1r1fji8"&&(t.textContent=r),e=D(c),i.l(c),n=X(),this.h()},h(){_(t,"class","text-3xl font-bold mb-6")},m(c,b){P(c,t,b),P(c,e,b),i.m(c,b),P(c,n,b)},p(c,[b]){a===(a=s(c))&&i?i.p(c,b):(i.d(1),i=a(c),i&&(i.c(),i.m(n.parentNode,n)))},i:Q,o:Q,d(c){c&&(h(t),h(e),h(n)),i.d(c)}}}function Vt(l,t,r){let e;ht(l,yt,d=>r(0,e=d)),pt(kt);function n(d){ot(d.product_id,d.quantity+1)}function s(d){ot(d.product_id,d.quantity-1)}const a=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return[e,n,s,a,d=>s(d),d=>n(d),d=>gt(d.product_id)]}class Lt extends bt{constructor(t){super(),Ct(this,t,Vt,Pt,_t,{})}}export{Lt as component};
